(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"3d84":function(t,e,n){"use strict";n.r(e);var i=n("7f96"),a=n("91b5");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var o=n("2877"),r=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"24f19511",null);e["default"]=r.exports},"7f96":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"loginView"},[n("v-uni-view",{staticClass:"input-view"},[n("v-uni-view",{staticClass:"label-view"},[n("v-uni-text",{staticClass:"label"},[t._v("手机号")])],1),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),n("v-uni-view",{staticClass:"input-view"},[n("v-uni-view",{staticClass:"label-view"},[n("v-uni-text",{staticClass:"label"},[t._v("密码")])],1),n("v-uni-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-uni-view",{staticClass:"button-view"},[n("v-uni-button",{staticClass:"login",attrs:{type:"default","hover-class":"hover"},on:{click:function(e){e=t.$handleEvent(e),t.bindLogin(e)}}},[t._v("登录")]),n("v-uni-button",{staticClass:"register",attrs:{type:"default","hover-class":"hover"},on:{click:function(e){e=t.$handleEvent(e),t.register(e)}}},[t._v("免费注册")]),n("v-uni-button",{staticClass:"register",attrs:{type:"default","hover-class":"hover"},on:{click:function(e){e=t.$handleEvent(e),t.resetpwd(e)}}},[t._v("重置密码")])],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"91b5":function(t,e,n){"use strict";n.r(e);var i=n("a92b"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=a.a},a92b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("2f62");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o={data:function(){return{mobile:"",password:""}},computed:(0,i.mapState)(["userInfo"]),methods:a({},(0,i.mapMutations)(["login"]),{bindLogin:function(){var t=this;11===this.mobile.length?this.password.length<6?uni.showToast({icon:"none",title:"密码最短为 6 个字符"}):uni.request({url:this.$serverUrl2+"/login/",data:{username:this.mobile,password:this.password},method:"POST",success:function(e){if(200===e.statusCode){var n={username:t.mobile,userid:t.mobile,mobile:t.mobile,avatar:"",token:e.data.token,hasLogin:!0,forcedLogin:!1};uni.showToast({icon:"none",title:"登陆成功"}),t.login(n),uni.navigateBack({delta:1})}else uni.showToast({icon:"none",title:"登陆失败: "+e.data["non_field_errors"][0]})}}):uni.showToast({icon:"none",title:"手机号必须为11位"})},register:function(){uni.navigateTo({url:"../reg/reg"})},resetpwd:function(){uni.navigateTo({url:"../pwd/pwd"})}})};e.default=o}}]);