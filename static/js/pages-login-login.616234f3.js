(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"336e":function(t,e,n){"use strict";n.r(e);var i=n("fc37"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=s.a},"4db4":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"loginView"},[n("v-uni-view",{staticClass:"input-view"},[n("v-uni-view",{staticClass:"label-view"},[n("v-uni-text",{staticClass:"label"},[t._v("手机号")])],1),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),n("v-uni-view",{staticClass:"input-view"},[n("v-uni-view",{staticClass:"label-view"},[n("v-uni-text",{staticClass:"label"},[t._v("密码")])],1),n("v-uni-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-uni-view",{staticClass:"button-view"},[n("v-uni-button",{staticClass:"login",attrs:{type:"default","hover-class":"hover"},on:{click:function(e){e=t.$handleEvent(e),t.bindLogin(e)}}},[t._v("登录")]),n("v-uni-button",{staticClass:"register",attrs:{type:"default","hover-class":"hover"},on:{click:function(e){e=t.$handleEvent(e),t.register(e)}}},[t._v("免费注册")]),n("v-uni-button",{staticClass:"register",attrs:{type:"default","hover-class":"hover"},on:{click:function(e){e=t.$handleEvent(e),t.resetpwd(e)}}},[t._v("重置密码")])],1)],1)},s=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},bcc1:function(t,e,n){"use strict";n.r(e);var i=n("4db4"),s=n("336e");for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);var o=n("2877"),u=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,"0e2d5f34",null);e["default"]=u.exports},fc37:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n("cebc")),a=n("2f62"),o={data:function(){return{mobile:"",password:""}},computed:(0,a.mapState)(["userInfo"]),methods:(0,s.default)({},(0,a.mapMutations)(["login"]),{bindLogin:function(){var t=this;11===this.mobile.length?this.password.length<6?uni.showToast({icon:"none",title:"密码最短为 6 个字符"}):uni.request({url:this.$serverUrl2+"/login/",data:{username:this.mobile,password:this.password},method:"POST",success:function(e){if(200===e.statusCode){var n={username:t.mobile,userid:t.mobile,mobile:t.mobile,avatar:"",token:e.data.token,hasLogin:!0,forcedLogin:!1};uni.showToast({icon:"none",title:"登陆成功"}),t.login(n),uni.navigateBack({delta:1})}else uni.showToast({icon:"none",title:"登陆失败: "+e.data["non_field_errors"][0]})}}):uni.showToast({icon:"none",title:"手机号必须为11位"})},register:function(){uni.navigateTo({url:"../reg/reg"})},resetpwd:function(){uni.navigateTo({url:"../pwd/pwd"})}})};e.default=o}}]);